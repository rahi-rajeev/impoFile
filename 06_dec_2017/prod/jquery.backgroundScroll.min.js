!function(t,o,i){"use strict";i.fn.backgroundScroll=function(e){var r=(i(t),i(o),i(this)),n={unArrayOpt:["duration","pattern","click"],dataScroll:"data-scroll",bgImg:"background-image",bgPos:"background-position",bgRep:"background-repeat"},a=function(t,o,i){return console.log(o),console.log(i),""===o?t.css(i).split(","):o},s=function(t,o){return o[t%o.length]},l=function(t,o,e,r){r=i.map(r,function(t){return"url("+t+")"}),o.attr(t.dataScroll,"true").css(t.bgImg,r),e||o.css(t.bgRep,"no-repeat")},d=function(t,o,i){var e=[],r=[],n={x:0,y:1},a=i.img,l=o.css(t.bgPos).split(", "),d=l.length,g=a.length,u=0,h="";for(u;g>u;u++)h=l[u%d].split(" "),e.push(parseFloat(h[n.x])),r.push(parseFloat(h[n.y]));var p=[],f={},m={},b=0,X=0;setInterval(function(){if("true"===o.attr(t.dataScroll)){for(p=[],u=0;g>u;u++){m={};for(c in i)m[c]=s(u,i[c]);f={},f={top:"top"===m.directionY,right:"right"===m.directionX,bottom:"bottom"===m.directionY,left:"left"===m.directionX},b=0,X=0,i.pattern?(m.startX=0,m.startY=0,m.endX=parseFloat(m.imageWidth),m.endY=parseFloat(m.imageHeight),b=Math.abs(e[u])>=m.endX,X=Math.abs(r[u])>=m.endY):(m.startX=f.right?-parseFloat(m.imageWidth):f.left?t.thisWidth:0,m.startY=f.bottom?-parseFloat(m.imageHeight):f.top?t.thisHeight:0,m.endX=f.right?t.thisWidth:f.left?-parseFloat(m.imageWidth):null,m.endY=f.bottom?t.thisHeight:f.top?-parseFloat(m.imageHeight):null,b=f.right?e[u]>=m.endX:f.left?e[u]<=m.endX:null,X=f.bottom?r[u]>=m.endY:f.top?r[u]<=m.endY:null),e[u]=b?m.startX:e[u],r[u]=X?m.startY:r[u],e[u]=f.right?e[u]+m.speed:f.left?e[u]-m.speed:e[u],r[u]=f.bottom?r[u]+m.speed:f.top?r[u]-m.speed:r[u],p.push(Math.floor(e[u])+"px "+Math.floor(r[u])+"px")}o.css(t.bgPos,p.join(", "))}},i.duration)},g=i.extend({},i.fn.backgroundScroll.defaults,e),c="";g.img=a(r,g.img,n.bgImg),console.log(g.img);for(c in g)i.inArray(c,n.unArrayOpt)<=0&&(g[c]=i.isArray(g[c])?g[c]:[g[c]]);i(window).on("load resize",function(){n.thisWidth=r.outerWidth(),n.thisHeight=r.outerHeight(),g.position=a(r,g.position,n.bgPos),l(n,r,g.pattern,g.img),d(n,r,g),r.on("click",function(){g.click&&("true"==i(this).attr(n.dataScroll)?i(this).attr(n.dataScroll,"false"):i(this).attr(n.dataScroll,"true"))})})},i.fn.backgroundScroll.defaults={pattern:!1,click:!1,img:"",speed:1,duration:10,directionX:"",directionY:"",imageWidth:0,imageHeight:0,position:""}}(window,window.document,window.jQuery);